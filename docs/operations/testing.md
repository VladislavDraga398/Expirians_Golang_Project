# üß™ Testing Strategy

> –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è OMS

**–í–µ—Ä—Å–∏—è:** v2.0 | **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2025-10-01 | **–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç—É–∞–ª—å–Ω–æ

---

## üéØ TL;DR
- –ü–∏—Ä–∞–º–∏–¥–∞: Unit ‚Üí Integration ‚Üí Contract ‚Üí Load/Chaos.
- DoD: –ø–æ–∫—Ä—ã—Ç–∏–µ –¥–æ–º–µ–Ω–∞ ‚â•80%, E2E –æ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç happy/fail/compensation/unknown, –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∑–µ–ª—ë–Ω—ã–µ, –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ –≤ SLO.
- CI pipeline: Lint ‚Üí Unit ‚Üí Integration (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã) ‚Üí Contract ‚Üí Build ‚Üí Security Scan ‚Üí Publish.

## –¶–µ–ª–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–º–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É, —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å —Å–∞–≥/–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–π, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –∏ –ø–µ—Ä—Ñ–æ–º–∞–Ω—Å.

## –ü–∏—Ä–∞–º–∏–¥–∞ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- **Unit:** –∞–≥—Ä–µ–≥–∞—Ç—ã, –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã, `request_hash`, backoff+jitter, dry-run –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞.
- **Integration:** –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ë–î+–±—Ä–æ–∫–µ—Ä–∞, —Å—Ü–µ–Ω–∞—Ä–∏–∏ Create‚ÜíConfirm, Reserve fail, Pay fail, Cancel/Refund, –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ `Idempotency-Key`, Outbox+DLQ.
- **Contract:** gRPC –ø–æ–∑–∏—Ç–∏–≤/–Ω–µ–≥–∞—Ç–∏–≤, —Å–æ–±—ã—Ç–∏—è (`schema_version`, –¥–µ–¥—É–ø-–∫–ª—é—á).
- **Load/Chaos:** —Å–ø–∞–π–∫–∏, –ø–ª–∞–≤–Ω—ã–π —Ä–æ—Å—Ç 100‚Äì500 RPS, —Å–º–µ—à–∞–Ω–Ω—ã–µ –ø–æ—Ç–æ–∫–∏, fault injection (disconnect, —Ç–∞–π–º–∞—É—Ç—ã, –¥–µ–¥–ª–æ–∫–∏).

## –î–∞–Ω–Ω—ã–µ –∏ —Ñ–∏–∫—Å—Ç—É—Ä—ã
- –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ SKU/—Ü–µ–Ω—ã (minor units), –≤–∞–ª—é—Ç—ã.
- –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∏–¥—ã –∏ –≤—Ä–µ–º—è; cleanup –ø–æ—Å–ª–µ –ø—Ä–æ–≥–æ–Ω–æ–≤.

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ (DoD)
- Unit-–ø–æ–∫—Ä—ã—Ç–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π ‚â• 80%.
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ E2E –∑–∞–∫—Ä—ã–≤–∞—é—Ç happy/fail/compensation/unknown.
- –ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã –∑–µ–ª—ë–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö RPC/—Å–æ–±—ã—Ç–∏–π.
- –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã: p95/p99 –≤ SLO, outbox/DLQ –±–µ–∑ —Ä–æ—Å—Ç–∞.

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤ CI
- Pipeline: Lint ‚Üí Unit ‚Üí Integration (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã) ‚Üí Contract ‚Üí Build ‚Üí Security Scan ‚Üí Publish.
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: coverage, –ª–æ–≥–∏/—Ç—Ä–µ–π—Å—ã –Ω–∞ —Ñ–µ–π–ª–∞—Ö, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–µ –æ–±—Ä–∞–∑—ã.

