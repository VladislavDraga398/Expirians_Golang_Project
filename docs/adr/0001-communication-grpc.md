# ADR 0001: gRPC для синхронных коммуникаций

Status: **Accepted** • Date: 2025-09-27

## TL;DR
- Синхронные коммуникации внутри OMS и внешний API — через gRPC + Protobuf.
- При необходимости REST — поверх gRPC-Gateway.

## Контекст
- Нужны быстрые и типобезопасные вызовы с дедлайнами, ретраями и хорошей наблюдаемостью.

## Решение
- Использовать gRPC (Protobuf v3) для всех синхронных межсервисных вызовов и публичного API.
- REST-интерфейс при необходимости — через gRPC-Gateway.

## Альтернативы
- REST-only — проще для внешних интеграций, но менее строгие контракты и выше overhead.
- GraphQL — гибок для чтения, но хуже подходит под мутационно-ориентированные саги.

## Последствия
- **Плюсы:** производительность, сильный IDL, генерация клиентов, удобная интеграция трейсинга.
- **Минусы:** внешним потребителям может понадобиться REST-шлюз; требуется поддержка protobuf toolchain.
